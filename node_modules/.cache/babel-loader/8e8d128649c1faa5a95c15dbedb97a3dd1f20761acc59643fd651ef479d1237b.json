{"ast":null,"code":"import _slicedToArray from\"/Users/guruprakashreddyavilala/movie-info/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";var useFecth=function useFecth(endpoint){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),isPending=_useState4[0],setIsPending=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var _useState7=useState(endpoint),_useState8=_slicedToArray(_useState7,2),url=_useState8[0],setUrl=_useState8[1];var request=function request(requestUrl){fetch(requestUrl).then(function(res){if(!res.ok)throw Error('could not fetch data');return res.json();}).then(function(data){setData(data);}).catch(function(err){setError(err);console.log(err);});};useEffect(function(){request(endpoint);},[endpoint]);useEffect(function(){request(url);},[url]);return{data:data,isPending:isPending,error:error,setData:setData,setUrl:setUrl};};export default useFecth;","map":{"version":3,"names":["useEffect","useState","useFecth","endpoint","data","setData","isPending","setIsPending","error","setError","url","setUrl","request","requestUrl","fetch","then","res","ok","Error","json","catch","err","console","log"],"sources":["/Users/guruprakashreddyavilala/movie-info/src/usefectch.js"],"sourcesContent":["import { useEffect, useState } from \"react\"\n\nconst useFecth  = (endpoint) =>{\n\n    const [data,setData] = useState(null);\n    const [isPending,setIsPending] = useState(null);\n    const [error,setError] = useState(null);\n    const [url,setUrl] = useState(endpoint)\n\n\n    const request = (requestUrl) =>{\n\n        fetch(requestUrl).then((res)=>{\n    \n            if(!res.ok)throw Error('could not fetch data');\n    \n            return res.json();\n           })\n           .then((data)=>{\n\n            setData(data);\n            \n           })\n           .catch((err)=>{\n            \n            setError(err);\n            \n            console.log(err);\n           })\n    }\n    \n    useEffect(()=>{\n        request(endpoint);\n    },[endpoint]);\n\n    useEffect(()=>{\n        request(url);\n    },[url]);\n\n    return { data, isPending, error , setData, setUrl};\n\n}\n   \n\nexport default useFecth;"],"mappings":"+HAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAE3C,GAAMC,SAAQ,CAAI,QAAZA,SAAQ,CAAKC,QAAQ,CAAI,CAE3B,cAAuBF,QAAQ,CAAC,IAAI,CAAC,wCAA9BG,IAAI,eAACC,OAAO,eACnB,eAAiCJ,QAAQ,CAAC,IAAI,CAAC,yCAAxCK,SAAS,eAACC,YAAY,eAC7B,eAAyBN,QAAQ,CAAC,IAAI,CAAC,yCAAhCO,KAAK,eAACC,QAAQ,eACrB,eAAqBR,QAAQ,CAACE,QAAQ,CAAC,yCAAhCO,GAAG,eAACC,MAAM,eAGjB,GAAMC,QAAO,CAAG,QAAVA,QAAO,CAAIC,UAAU,CAAI,CAE3BC,KAAK,CAACD,UAAU,CAAC,CAACE,IAAI,CAAC,SAACC,GAAG,CAAG,CAE1B,GAAG,CAACA,GAAG,CAACC,EAAE,CAAC,KAAMC,MAAK,CAAC,sBAAsB,CAAC,CAE9C,MAAOF,IAAG,CAACG,IAAI,EAAE,CAClB,CAAC,CAAC,CACDJ,IAAI,CAAC,SAACX,IAAI,CAAG,CAEbC,OAAO,CAACD,IAAI,CAAC,CAEd,CAAC,CAAC,CACDgB,KAAK,CAAC,SAACC,GAAG,CAAG,CAEbZ,QAAQ,CAACY,GAAG,CAAC,CAEbC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CACjB,CAAC,CAAC,CACT,CAAC,CAEDrB,SAAS,CAAC,UAAI,CACVY,OAAO,CAACT,QAAQ,CAAC,CACrB,CAAC,CAAC,CAACA,QAAQ,CAAC,CAAC,CAEbH,SAAS,CAAC,UAAI,CACVY,OAAO,CAACF,GAAG,CAAC,CAChB,CAAC,CAAC,CAACA,GAAG,CAAC,CAAC,CAER,MAAO,CAAEN,IAAI,CAAJA,IAAI,CAAEE,SAAS,CAATA,SAAS,CAAEE,KAAK,CAALA,KAAK,CAAGH,OAAO,CAAPA,OAAO,CAAEM,MAAM,CAANA,MAAM,CAAC,CAEtD,CAAC,CAGD,cAAeT,SAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}