{"ast":null,"code":"import _slicedToArray from\"/Users/guruprakashreddyavilala/movie-info/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import useFecth from\"./usefectch\";import Carousel from\"react-elastic-carousel\";import{useEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Review=function Review(_ref){var movieId=_ref.movieId;var _useFecth=useFecth('https://api.themoviedb.org/3/movie/'+movieId+'/reviews?api_key=05b670c12d1973fe82919a005ef06481'),reviews=_useFecth.data,isPending=_useFecth.isPending,error=_useFecth.error,setUrl=_useFecth.setUrl;var base_url='https://image.tmdb.org/t/p/w500';var _useState=useState(null),_useState2=_slicedToArray(_useState,2),res=_useState2[0],setRes=_useState2[1];useEffect(function(){if(reviews!=null)setRes(reviews.results.filter(function(review){return review.author_details.avatar_path!=null&&review.author_details.rating!=null&&review.content!=null;}).sort(function(a,b){return b.author_details.rating-a.author_details.rating;}));},[reviews]);return/*#__PURE__*/_jsx(_Fragment,{children:res&&res.length>0&&/*#__PURE__*/_jsx(Carousel,{itemsToShow:1,pagination:false,children:res.map(function(review){return/*#__PURE__*/_jsxs(\"div\",{className:\"box has-shadow\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"icon-text\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"icon\",children:/*#__PURE__*/_jsx(\"div\",{className:\"image is-24x24\",children:/*#__PURE__*/_jsx(\"img\",{className:\"is-rounded\",src:base_url+review.author_details.avatar_path})})}),/*#__PURE__*/_jsx(\"span\",{className:\"heading tag is-dark my-2\",children:\"@\"+review.author}),/*#__PURE__*/_jsx(\"span\",{className:\"icon has-text-danger my-2\",children:/*#__PURE__*/_jsx(\"i\",{class:\"fa-solid fa-star\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"tag is-dark my-2\",children:review.author_details.rating+\" / 10\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"scroll\",children:/*#__PURE__*/_jsx(\"div\",{className:\"notification\",children:review.content})})]});})})});};export default Review;","map":{"version":3,"names":["useFecth","Carousel","useEffect","useState","Review","movieId","reviews","data","isPending","error","setUrl","base_url","res","setRes","results","filter","review","author_details","avatar_path","rating","content","sort","a","b","length","map","author"],"sources":["/Users/guruprakashreddyavilala/movie-info/src/review.js"],"sourcesContent":["import useFecth from \"./usefectch\";\nimport Carousel from \"react-elastic-carousel\";\nimport { useEffect, useState } from \"react\";\n\nconst Review = ({movieId}) => {\n\n    const {data:reviews, isPending, error, setUrl}=useFecth('https://api.themoviedb.org/3/movie/'+movieId+'/reviews?api_key=05b670c12d1973fe82919a005ef06481');\n\n    const base_url= 'https://image.tmdb.org/t/p/w500';\n\n    const [res,setRes] = useState(null)\n\n    useEffect(()=>{\n        if(reviews!=null)setRes(reviews.results.filter(review => review.author_details.avatar_path!=null && review.author_details.rating!=null && review.content!=null).sort((a,b)=>b.author_details.rating-a.author_details.rating));\n    },[reviews])\n\n    return (\n            \n        <>{res && res.length>0 && <Carousel itemsToShow={1} pagination={false}>{res.map((review)=>\n            <div className=\"box has-shadow\">\n                <span className=\"icon-text\">\n                    <span className=\"icon\">\n                    <div className=\"image is-24x24\">\n                    <img className=\"is-rounded\" src={base_url + review.author_details.avatar_path}/>\n                    </div>\n                    </span>\n                    <span className=\"heading tag is-dark my-2\">{\"@\"+review.author}</span>\n                    <span className=\"icon has-text-danger my-2\">\n                    <i class=\"fa-solid fa-star\"></i>\n                    </span>\n                    <span className=\"tag is-dark my-2\">{review.author_details.rating+\" / 10\"}</span>\n                </span>\n                <div className=\"scroll\">\n                <div className=\"notification\">{review.content}</div>\n                </div>\n            </div>\n            )}</Carousel>}</>\n    );\n}\n \nexport default Review;"],"mappings":"+HAAA,MAAOA,SAAQ,KAAM,aAAa,CAClC,MAAOC,SAAQ,KAAM,wBAAwB,CAC7C,OAASC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAAC,6IAE5C,GAAMC,OAAM,CAAG,QAATA,OAAM,MAAkB,IAAbC,QAAO,MAAPA,OAAO,CAEpB,cAA+CL,QAAQ,CAAC,qCAAqC,CAACK,OAAO,CAAC,mDAAmD,CAAC,CAA9IC,OAAO,WAAZC,IAAI,CAAUC,SAAS,WAATA,SAAS,CAAEC,KAAK,WAALA,KAAK,CAAEC,MAAM,WAANA,MAAM,CAE7C,GAAMC,SAAQ,CAAE,iCAAiC,CAEjD,cAAqBR,QAAQ,CAAC,IAAI,CAAC,wCAA5BS,GAAG,eAACC,MAAM,eAEjBX,SAAS,CAAC,UAAI,CACV,GAAGI,OAAO,EAAE,IAAI,CAACO,MAAM,CAACP,OAAO,CAACQ,OAAO,CAACC,MAAM,CAAC,SAAAC,MAAM,QAAIA,OAAM,CAACC,cAAc,CAACC,WAAW,EAAE,IAAI,EAAIF,MAAM,CAACC,cAAc,CAACE,MAAM,EAAE,IAAI,EAAIH,MAAM,CAACI,OAAO,EAAE,IAAI,GAAC,CAACC,IAAI,CAAC,SAACC,CAAC,CAACC,CAAC,QAAGA,EAAC,CAACN,cAAc,CAACE,MAAM,CAACG,CAAC,CAACL,cAAc,CAACE,MAAM,GAAC,CAAC,CACjO,CAAC,CAAC,CAACb,OAAO,CAAC,CAAC,CAEZ,mBAEI,yBAAGM,GAAG,EAAIA,GAAG,CAACY,MAAM,CAAC,CAAC,eAAI,KAAC,QAAQ,EAAC,WAAW,CAAE,CAAE,CAAC,UAAU,CAAE,KAAM,UAAEZ,GAAG,CAACa,GAAG,CAAC,SAACT,MAAM,qBACnF,aAAK,SAAS,CAAC,gBAAgB,wBAC3B,cAAM,SAAS,CAAC,WAAW,wBACvB,aAAM,SAAS,CAAC,MAAM,uBACtB,YAAK,SAAS,CAAC,gBAAgB,uBAC/B,YAAK,SAAS,CAAC,YAAY,CAAC,GAAG,CAAEL,QAAQ,CAAGK,MAAM,CAACC,cAAc,CAACC,WAAY,EAAE,EAC1E,EACC,cACP,aAAM,SAAS,CAAC,0BAA0B,UAAE,GAAG,CAACF,MAAM,CAACU,MAAM,EAAQ,cACrE,aAAM,SAAS,CAAC,2BAA2B,uBAC3C,UAAG,KAAK,CAAC,kBAAkB,EAAK,EACzB,cACP,aAAM,SAAS,CAAC,kBAAkB,UAAEV,MAAM,CAACC,cAAc,CAACE,MAAM,CAAC,OAAO,EAAQ,GAC7E,cACP,YAAK,SAAS,CAAC,QAAQ,uBACvB,YAAK,SAAS,CAAC,cAAc,UAAEH,MAAM,CAACI,OAAO,EAAO,EAC9C,GACJ,GACL,EAAY,EAAI,CAE7B,CAAC,CAED,cAAehB,OAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}